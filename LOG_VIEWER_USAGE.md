# 日志查看器使用说明

## 功能概述

本应用内置了日志查看器功能，可以在Android设备上直接查看应用日志，支持以下操作：
- 查看应用运行日志
- 复制日志到剪贴板
- 导出日志到文件
- 清空日志

## 使用方法

1. 在测试视频页面中，点击"查看应用日志"按钮即可打开日志查看器
2. 日志会按时间倒序显示（最新的在顶部）
3. 支持以下操作：
   - 刷新按钮：重新加载日志
   - 复制按钮：将所有日志复制到剪贴板
   - 导出按钮：将日志导出到文件
   - 清空按钮：清空所有日志

## 日志存储位置

- 日志文件存储在应用私有目录中：`{应用数据目录}/app.log`
- 导出的日志文件存储在：`{外部存储目录}/bili_own_logs.txt` 或 `{文档目录}/bili_own_logs.txt`

## 权限说明

导出日志功能需要存储权限，请在权限请求时允许存储访问。

## 日志格式

每条日志包含时间戳和日志内容，格式如下：
```
[YYYY-MM-DD HH:MM:SS.mmm] 日志内容
```

## 开发说明

### 日志工具类

日志功能通过`LogUtils`类实现，主要方法包括：
- `init()`: 初始化日志系统
- `log(String message)`: 记录日志
- `getLogs()`: 获取日志列表
- `clearLogs()`: 清空日志
- `close()`: 关闭日志系统

### 全局日志函数

提供了一个全局函数`appLog(String message)`用于方便记录日志。

### 在代码中使用日志

```dart
import 'package:bili_own/common/utils/log_utils.dart';

// 记录日志
appLog("这是一条日志信息");

// 获取日志
List<String> logs = await LogUtils().getLogs();
```